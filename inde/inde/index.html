<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026元旦快乐 烟花特效</title>
    <style>
        * {margin: 0;padding: 0;box-sizing: border-box;}
        body {overflow: hidden;background: #000000;height: 100vh;cursor: pointer;}
        canvas {position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;}
        .yuanDanText {position: fixed;top: 50%;left: 50%;transform: translate(-50%, -50%);z-index: 999;font-size: 8vw;font-weight: bold;text-align: center;
            background: linear-gradient(120deg,#ff0000,#ff9900,#ff0000,#ffcc00);
            -webkit-background-clip: text;color: transparent;
            text-shadow: 0 0 20px #ff0000,0 0 40px #ff9900,0 0 60px #ff0000;
            animation: textAni 2s linear infinite;
        }
        .blessing {position: fixed;z-index: 998;color: #fff;font-size: 20px;text-shadow:0 0 10px #ff0000,0 0 20px #ffcc00;white-space: nowrap;}
        @keyframes textAni {
            0% {filter: hue-rotate(0deg);opacity: 1;}
            50% {filter: hue-rotate(180deg);opacity: 0.9;}
            100% {filter: hue-rotate(360deg);opacity: 1;}
        }
        @keyframes float {
            0% {transform: translateY(0) rotate(0deg);opacity: 1;}
            100% {transform: translateY(-100vh) rotate(360deg);opacity: 0;}
        }
    </style>
</head>
<body>
    <div class="yuanDanText">元旦快乐 2026</div>
    <canvas id="fireworks"></canvas>
<script>
// 画布核心配置
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');
let canvasWidth = window.innerWidth;
let canvasHeight = window.innerHeight;
canvas.width = canvasWidth;
canvas.height = canvasHeight;
const particles = [];
const fireworks = [];
const sparks = [];
const petals = [];
const snowflakes = [];
const blessings = ['元旦快乐','岁岁平安','万事顺遂','喜乐安康','前程似锦','阖家幸福','财源广进','心想事成'];
// 颜色库-新年喜庆配色
const colorList = ['#ff0000','#ff3333','#ff6600','#ff9900','#ffcc00','#ffff00','#ff0066','#ff3399','#ffffff'];
const petalColor = ['#ff0000','#ff6699','#ff99cc','#ffccff','#ff0033'];
// 工具函数
function random(min, max) {return Math.random() * (max - min) + min;}
function distance(x1, y1, x2, y2) {return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));}
// 雪花类-自动飘落 元旦雪景
class Snowflake {
    constructor() {
        this.x = random(0, canvasWidth);
        this.y = random(0, canvasHeight);
        this.size = random(1, 4);
        this.speedY = random(0.5, 2);
        this.speedX = random(-0.5, 0.5);
        this.opacity = random(0.5, 1);
    }
    update() {
        this.y += this.speedY;
        this.x += this.speedX;
        if (this.y > canvasHeight) {this.y = 0;this.x = random(0, canvasWidth);}
    }
    draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255,255,255,${this.opacity})`;
        ctx.fill();
        ctx.closePath();
    }
}
// 花瓣类-元旦红花飘落 喜庆花瓣
class Petal {
    constructor() {
        this.x = random(0, canvasWidth);
        this.y = random(0, canvasHeight);
        this.size = random(3, 6);
        this.speedY = random(1, 3);
        this.speedX = random(-1, 1);
        this.color = petalColor[Math.floor(random(0, petalColor.length))];
        this.angle = random(0, Math.PI * 2);
        this.rotateSpeed = random(-0.05, 0.05);
        this.opacity = random(0.7, 1);
    }
    update() {
        this.y += this.speedY;
        this.x += this.speedX;
        this.angle += this.rotateSpeed;
        if (this.y > canvasHeight) {this.y = 0;this.x = random(0, canvasWidth);}
    }
    draw() {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.angle);
        ctx.beginPath();
        ctx.ellipse(0, 0, this.size, this.size/2, 0, 0, Math.PI*2);
        ctx.fillStyle = `rgba(${parseInt(this.color.slice(1,3),16)},${parseInt(this.color.slice(3,5),16)},${parseInt(this.color.slice(5,7),16)},${this.opacity})`;
        ctx.fill();
        ctx.restore();
    }
}
// 粒子类-烟花粒子核心
class Particle {
    constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.speedX = random(-5, 5);
        this.speedY = random(-5, 5);
        this.gravity = 0.08;
        this.friction = 0.98;
        this.color = color || colorList[Math.floor(random(0, colorList.length))];
        this.size = random(1, 3);
        this.alpha = 1;
        this.decay = random(0.005, 0.02);
    }
    update() {
        this.speedX *= this.friction;
        this.speedY *= this.friction;
        this.speedY += this.gravity;
        this.x += this.speedX;
        this.y += this.speedY;
        this.alpha -= this.decay;
    }
    draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(${parseInt(this.color.slice(1,3),16)},${parseInt(this.color.slice(3,5),16)},${parseInt(this.color.slice(5,7),16)},${this.alpha})`;
        ctx.fill();
        ctx.closePath();
    }
}
// 烟花引线类-鼠标点击的烟花升空效果
class Firework {
    constructor(x, y) {
        this.x = x;
        this.y = y;
        this.targetX = x;
        this.targetY = random(canvasHeight/4, canvasHeight/2);
        this.speed = random(8, 12);
        this.angle = Math.atan2(this.targetY - this.y, this.targetX - this.x);
        this.color = colorList[Math.floor(random(0, colorList.length))];
        this.size = 2;
        this.exploded = false;
    }
    update() {
        const dx = this.targetX - this.x;
        const dy = this.targetY - this.y;
        const dist = distance(this.x, this.y, this.targetX, this.targetY);
        if (dist < this.speed) {
            this.explode();
            this.exploded = true;
        } else {
            this.x += Math.cos(this.angle) * this.speed;
            this.y += Math.sin(this.angle) * this.speed;
        }
    }
    explode() {
        for (let i = 0; i < 80; i++) {
            particles.push(new Particle(this.x, this.y, this.color));
        }
        for (let i = 0; i < 30; i++) {
            sparks.push(new Spark(this.x, this.y));
        }
    }
    draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.fill();
        ctx.closePath();
    }
}
// 火花类-鼠标移动的拖尾烟花 流光效果
class Spark {
    constructor(x, y) {
        this.x = x;
        this.y = y;
        this.speedX = random(-3, 3);
        this.speedY = random(-3, 3);
        this.size = random(1, 2);
        this.color = colorList[Math.floor(random(0, colorList.length))];
        this.alpha = 1;
        this.decay = random(0.01, 0.03);
    }
    update() {
        this.x += this.speedX;
        this.y += this.speedY;
        this.alpha -= this.decay;
    }
    draw() {
        ctx.beginPath();
        ctx.rect(this.x, this.y, this.size, this.size);
        ctx.fillStyle = `rgba(${parseInt(this.color.slice(1,3),16)},${parseInt(this.color.slice(3,5),16)},${parseInt(this.color.slice(5,7),16)},${this.alpha})`;
        ctx.fill();
        ctx.closePath();
    }
}
// 生成新年祝福弹幕 随机飘屏
function createBlessing() {
    const blessing = document.createElement('div');
    blessing.className = 'blessing';
    blessing.innerHTML = blessings[Math.floor(random(0, blessings.length))];
    blessing.style.left = `${random(0, canvasWidth)}px`;
    blessing.style.top = `${canvasHeight}px`;
    blessing.style.animation = `float ${random(8,15)}s linear ${random(0,5)}s forwards`;
    document.body.appendChild(blessing);
    setTimeout(() => {document.body.removeChild(blessing);}, 15000);
}
// 初始化元素
function init() {
    for (let i = 0; i < 80; i++) {snowflakes.push(new Snowflake());}
    for (let i = 0; i < 50; i++) {petals.push(new Petal());}
    setInterval(createBlessing, 1000);
}
// 动画循环
function animate() {
    requestAnimationFrame(animate);
    ctx.fillStyle = 'rgba(0,0,0,0.05)';
    ctx.fillRect(0, 0, canvasWidth, canvasHeight);
    // 渲染雪花
    snowflakes.forEach((snow, index) => {
        snow.update();
        snow.draw();
        if (snow.opacity <= 0) snowflakes.splice(index, 1);
    });
    // 渲染花瓣
    petals.forEach((petal, index) => {
        petal.update();
        petal.draw();
        if (petal.y > canvasHeight) petals.splice(index,1);
    });
    // 渲染烟花粒子
    particles.forEach((particle, index) => {
        particle.update();
        particle.draw();
        if (particle.alpha <= 0) particles.splice(index, 1);
    });
    // 渲染烟花引线
    fireworks.forEach((firework, index) => {
        firework.update();
        firework.draw();
        if (firework.exploded) fireworks.splice(index, 1);
    });
    // 渲染鼠标拖尾火花
    sparks.forEach((spark, index) => {
        spark.update();
        spark.draw();
        if (spark.alpha <= 0) sparks.splice(index, 1);
    });
    // 补充分子
    if (snowflakes.length < 80) snowflakes.push(new Snowflake());
    if (petals.length < 50) petals.push(new Petal());
}
// 鼠标点击：生成绽放烟花【核心交互1】
canvas.addEventListener('click', (e) => {
    fireworks.push(new Firework(e.clientX, e.clientY));
    // 点击额外生成花瓣+火花
    for(let i=0;i<10;i++){petals.push(new Petal());}
    for(let i=0;i<20;i++){sparks.push(new Spark(e.clientX,e.clientY));}
});
// 鼠标移动：生成拖尾流光烟花【核心交互2】
canvas.addEventListener('mousemove', (e) => {
    if(Math.random()>0.7){
        sparks.push(new Spark(e.clientX, e.clientY));
    }
});
// 窗口自适应
window.addEventListener('resize', () => {
    canvasWidth = window.innerWidth;
    canvasHeight = window.innerHeight;
    canvas.width = canvasWidth;
    canvas.height = canvasHeight;
});
// 自动生成烟花 不用操作也有效果
setInterval(() => {
    fireworks.push(new Firework(random(0,canvasWidth), canvasHeight));
}, 1500);
// 启动程序
init();
animate();
</script>
</body>
</html>
